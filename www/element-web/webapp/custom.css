/* =============================================
   LOGIN PAGE LOGO - CRAVEX CUSTOM
   ============================================= */

/* Login sayfası ana logo */
.mx_AuthHeader_logo,
.mx_Welcome_logo {
    background-image: url('/1.svg') !important;
    background-size: contain !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    width: 180px !important;
    height: 180px !important;
    margin: 0 auto 24px !important;
}

/* Login header - logo ve başlık */
.mx_AuthPage_header {
    text-align: center !important;
    padding: 32px 0 !important;
}

/* Login form başlığı */
.mx_AuthPage_header h1 {
    font-size: 28px !important;
    font-weight: 600 !important;
    color: #0DBD8B !important;
    margin-top: 16px !important;
}

/* =============================================
   ŞİFRELEME UI'SINI TAMAMEN GİZLE
   ============================================= */

/* "Enable end-to-end encryption" toggle'ını gizle */
.mx_Field[id*="encryption"],
.mx_Field label:has(input[id*="encryption"]),
div[class*="encryption"] label,
input[type="checkbox"][id*="encryption"],
label:has(input[id*="enableEncryption"]),
.mx_CreateRoomDialog_settingsSection:has(input[id*="encryption"]) {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    overflow: hidden !important;
}

/* "Show advanced" linkini gizle (encryption ile ilgili) */
.mx_CreateRoomDialog_advanced,
.mx_CreateRoomDialog_showAdvanced {
    display: none !important;
}

/* Encryption warning mesajını gizle */
div:has(> .mx_Field input[id*="encryption"]) > .mx_Field_description,
.mx_CreateRoomDialog_encryptionWarning {
    display: none !important;
}

/* Room settings'de encryption bölümünü gizle */
.mx_SettingsTab_section:has(span:contains("Encryption")),
.mx_SettingsTab_section label:contains("encryption"),
.mx_SettingsFieldset:has(span:contains("Encryption")) {
    display: none !important;
}

/* Security & Privacy'de encryption ayarlarını gizle */
div[role="tabpanel"] .mx_SettingsTab_section:nth-child(n):has(input[type="checkbox"][id*="crypto"]) {
    display: none !important;
}

/* Genel encryption UI elementlerini gizle */
[data-test-id*="encryption"],
[aria-label*="encryption"],
[aria-label*="Encryption"] {
    display: none !important;
}

/* Room create dialog - encryption checkbox container */
.mx_Checkbox:has(input[id*="enableEncryption"]) {
    display: none !important;
}

/* Oda ayarlarında encryption badge'lerini gizle */
.mx_E2EIcon,
.mx_EventTile_e2eIcon,
.mx_RoomSummaryCard_e2ee {
    display: none !important;
}


/* =============================================
   MOBİL WHATSAPP-STYLE BASIT TASARIM
   ============================================= */

/* SADECE MOBİL - WEB'E DOKUNULMADI */
@media (max-width: 768px) {
    
    /* =========================
       TEMİZ, SAF WHATSAPP GİBİ
       ========================= */
    
    /* Ana container tam ekran */
    body, html, #matrixchat {
        width: 100% !important;
        height: 100vh !important;
        overflow-x: hidden !important;
        -webkit-overflow-scrolling: touch !important;
    }

    /* =========================
       SÜPER AGRESİF - TÜM GEREKSIZ BUTONLARI GİZLE!
       ========================= */
    
    /* HAMBURGER MENU TAMAMEN KALDIR */
    .mx_LeftPanel_minimized,
    .mx_HeaderButton_minimize,
    button[aria-label*="collapse"] {
        display: none !important;
        visibility: hidden !important;
    }
    
    /* SAĞ PANEL TAMAMEN GİZLE */
    .mx_RightPanel,
    .mx_RightPanel_container,
    .mx_RoomHeader_info,
    div[class*="RightPanel"] {
        display: none !important;
        width: 0 !important;
        visibility: hidden !important;
    }
    
    /* HEADER'DAKİ TÜM BUTONLARI GİZLE (sadece oda ismi kalsın) */
    .mx_RoomHeader_button,
    .mx_RoomHeader_buttons button,
    .mx_RoomHeader_name button,
    button[class*="RoomHeader_button"] {
        display: none !important;
    }
    
    /* CALL BUTONLARI - HEPSİNİ GİZLE */
    .mx_LegacyCallButton,
    .mx_CallButton,
    .mx_VideoCallButton,
    button[data-testid*="call"],
    button[aria-label*="call"],
    button[aria-label*="Call"],
    button[aria-label*="arama"],
    button[aria-label*="Arama"],
    div[class*="CallButton"] {
        display: none !important;
        visibility: hidden !important;
    }
    
    /* THREAD/KONULAR - TAMAMEN GİZLE */
    .mx_ThreadPanel,
    .mx_ThreadView,
    .mx_ThreadSummary,
    button[aria-label*="thread"],
    button[aria-label*="Thread"],
    button[data-testid*="thread"],
    div[class*="ThreadPanel"],
    div[class*="ThreadView"] {
        display: none !important;
    }
    
    /* PINNED MESSAGES - GİZLE */
    .mx_PinnedMessagesCard,
    .mx_PinnedEventTile,
    button[aria-label*="pin"],
    button[aria-label*="Pin"],
    button[data-testid*="pin"],
    div[class*="Pinned"] {
        display: none !important;
    }
    
    /* SEARCH - GİZLE */
    .mx_SearchBar,
    .mx_RoomSearch,
    button[aria-label*="search"],
    button[aria-label*="Search"],
    button[aria-label*="Ara"],
    input[placeholder*="Search"],
    div[class*="SearchBar"] {
        display: none !important;
    }
    
    /* NOTIFICATIONS PANEL - GİZLE */
    .mx_NotificationPanel,
    div[class*="NotificationPanel"] {
        display: none !important;
    }
    
    /* MEMBERS/PEOPLE PANEL - GİZLE */
    .mx_MemberList,
    .mx_MemberInfo,
    button[aria-label*="member"],
    button[aria-label*="Member"],
    button[aria-label*="people"],
    button[aria-label*="People"],
    div[class*="MemberList"] {
        display: none !important;
    }
    
    /* FILES/UPLOADS PANEL - GİZLE */
    .mx_FilePanel,
    button[aria-label*="file"],
    button[aria-label*="File"],
    div[class*="FilePanel"] {
        display: none !important;
    }
    
    /* WIDGETS - GİZLE */
    .mx_WidgetButton,
    .mx_AppTile,
    div[class*="Widget"] {
        display: none !important;
    }
    
    /* SETTINGS GEAR ICON - GİZLE */
    button[aria-label*="setting"],
    button[aria-label*="Setting"],
    button[aria-label*="Room options"],
    button[aria-label*="options"],
    button[data-testid*="settings"] {
        display: none !important;
    }
    
    /* STICKER PICKER - GİZLE */
    .mx_MessageComposer_button[aria-label*="sticker"],
    .mx_MessageComposer_button[aria-label*="Sticker"],
    .mx_StickerPicker,
    button[data-testid*="sticker"] {
        display: none !important;
    }
    
    /* POLL/LOCATION - GİZLE */
    button[aria-label*="poll"],
    button[aria-label*="Poll"],
    button[aria-label*="location"],
    button[aria-label*="Location"],
    div[class*="Poll"] {
        display: none !important;
    }
    
    /* VOICE MESSAGE - GİZLE */
    .mx_MessageComposer_button[aria-label*="voice"],
    .mx_MessageComposer_button[aria-label*="Voice"],
    button[data-testid*="voice"] {
        display: none !important;
    }
    
    /* FORMATTING TOOLBAR - TAMAMEN GİZLE */
    .mx_FormattingButtons,
    .mx_MessageComposer_formatbar,
    .mx_MessageComposer_format,
    div[class*="Formatting"],
    div[class*="formatbar"] {
        display: none !important;
    }
    
    /* REPLY/REACT/FORWARD BUTONLARI - GİZLE */
    .mx_MessageActionBar,
    .mx_ReactionsRow,
    button[aria-label*="reply"],
    button[aria-label*="Reply"],
    button[aria-label*="react"],
    button[aria-label*="React"],
    button[aria-label*="forward"],
    button[aria-label*="Forward"] {
        display: none !important;
    }
    
    /* TIMELINE ÜSTÜNDEN EXTRA PANELLER - GİZLE */
    .mx_TimelineCard,
    .mx_RoomSummaryCard,
    div[class*="TimelineCard"],
    div[class*="SummaryCard"] {
        display: none !important;
    }
    
    /* USER SETTINGS'TE GEREKSIZ SEKMELER - GİZLE */
    .mx_LabsUserSettingsTab,
    button[aria-label*="labs"],
    button[aria-label*="Labs"],
    button[aria-label*="advanced"],
    button[aria-label*="Advanced"] {
        display: none !important;
    }
    
    /* BREADCRUMBS (ÜST GEZINTI) - GİZLE */
    .mx_RoomBreadcrumbs,
    div[class*="Breadcrumb"] {
        display: none !important;
    }
    
    /* EXTRA İKONLAR VE BUTONLAR */
    .mx_RoomHeader_icon,
    .mx_MessageComposer_actions > *:not([aria-label*="emoji"]):not([aria-label*="Emoji"]):not([aria-label*="attach"]):not([aria-label*="Attach"]):not([aria-label*="send"]):not([aria-label*="Send"]) {
        display: none !important;
    }
    
    /* TÜM TOOLBAR BUTONLARI - SADECE EMOJİ VE DOSYA KALSIN */
    .mx_MessageComposer_buttonMenu {
        display: none !important;
    }

    /* =========================
       WHATSAPP GİBİ LAYOUT
       ========================= */
    
    /* Sol panel (oda listesi) - WhatsApp gibi */
    .mx_LeftPanel {
        width: 100% !important;
        max-width: 100% !important;
        flex: 0 0 100% !important;
        background: #111 !important;
    }
    
    /* Oda header - basit */
    .mx_LeftPanel_userHeader {
        padding: 12px 16px !important;
        background: #1e1e1e !important;
    }
    
    /* Oda listesi - WhatsApp tarzı */
    .mx_RoomTile {
        min-height: 72px !important;
        padding: 12px 16px !important;
        font-size: 16px !important;
        border-bottom: 1px solid #2a2a2a !important;
        background: #1a1a1a !important;
    }
    
    .mx_RoomTile:hover,
    .mx_RoomTile_selected {
        background: #2a2a2a !important;
    }
    
    /* Avatar - WhatsApp boyutunda */
    .mx_BaseAvatar {
        min-width: 48px !important;
        min-height: 48px !important;
        border-radius: 50% !important;
    }
    
    /* Oda ismi ve mesaj önizleme */
    .mx_RoomTile_title {
        font-size: 16px !important;
        font-weight: 500 !important;
    }
    
    .mx_RoomTile_subtitle {
        font-size: 14px !important;
        opacity: 0.7 !important;
    }

    /* =========================
       CHAT EKRANI - WHATSAPP GİBİ
       ========================= */
    
    /* Chat header - basit, temiz */
    .mx_RoomHeader {
        padding: 12px 16px !important;
        min-height: 60px !important;
        background: #1e1e1e !important;
        border-bottom: 1px solid #2a2a2a !important;
        display: flex !important;
        align-items: center !important;
    }
    
    /* Geri butonu - WhatsApp gibi */
    .mx_RoomHeader_back {
        display: inline-flex !important;
        margin-right: 12px !important;
    }
    
    /* Oda ismi - ortalanmış değil, sola yaslanmış */
    .mx_RoomHeader_nametext {
        font-size: 18px !important;
        font-weight: 500 !important;
    }
    
    /* Oda avatarı */
    .mx_RoomHeader_avatar .mx_BaseAvatar {
        min-width: 40px !important;
        min-height: 40px !important;
    }

    /* =========================
       MESAJLAR - WHATSAPP GİBİ
       ========================= */
    
    /* Mesaj timeline - temiz */
    .mx_RoomView_messagePanel {
        padding: 8px 12px !important;
        background: #000 !important;
    }
    
    /* Mesaj baloncukları */
    .mx_EventTile {
        padding: 4px 0 !important;
        margin-bottom: 2px !important;
    }
    
    /* Mesaj içeriği */
    .mx_EventTile_content {
        font-size: 15px !important;
        line-height: 1.4 !important;
        padding: 8px 12px !important;
        border-radius: 8px !important;
        max-width: 85% !important;
    }
    
    /* Kendi mesajlarım - sağda */
    .mx_EventTile_own .mx_EventTile_content {
        background: #005c4b !important;
        margin-left: auto !important;
    }
    
    /* Diğerlerinin mesajları - solda */
    .mx_EventTile:not(.mx_EventTile_own) .mx_EventTile_content {
        background: #1f2c34 !important;
    }
    
    /* Timestamp - WhatsApp gibi küçük */
    .mx_EventTile_msgOption {
        display: none !important;
    }
    
    .mx_MessageTimestamp {
        font-size: 11px !important;
        opacity: 0.6 !important;
    }

    /* =========================
       MESAJ YAZMA - WHATSAPP GİBİ
       ========================= */
    
    /* Mesaj composer - altta */
    .mx_MessageComposer_wrapper {
        padding: 8px 12px !important;
        min-height: 60px !important;
        background: #1e1e1e !important;
        border-top: 1px solid #2a2a2a !important;
    }
    
    /* Input kutusu - WhatsApp gibi yuvarlak */
    .mx_MessageComposer_input {
        font-size: 15px !important;
        padding: 10px 16px !important;
        line-height: 1.4 !important;
        border-radius: 24px !important;
        background: #2a2a2a !important;
        border: none !important;
    }
    
    /* Gönder butonu - WhatsApp gibi yuvarlak */
    .mx_MessageComposer_sendButton {
        width: 44px !important;
        height: 44px !important;
        border-radius: 50% !important;
        background: #00a884 !important;
        margin-left: 8px !important;
    }
    
    /* Emoji butonu - basit */
    .mx_MessageComposer_button[aria-label*="Emoji"] {
        width: 36px !important;
        height: 36px !important;
    }
    
    /* Dosya ekle butonu - basit */
    .mx_MessageComposer_button[aria-label*="Upload"],
    .mx_MessageComposer_button[aria-label*="Attach"] {
        width: 36px !important;
        height: 36px !important;
    }
    
    /* Formatting toolbar - GİZLE (gereksiz) */
    .mx_FormattingButtons,
    .mx_MessageComposer_formatbar {
        display: none !important;
    }

    /* =========================
       DİĞER İYİLEŞTİRMELER
       ========================= */
    
    /* Dialog'lar - tam ekran */
    .mx_Dialog {
        max-width: 100vw !important;
        max-height: 100vh !important;
        margin: 0 !important;
        border-radius: 0 !important;
    }
    
    /* Emoji picker - daha küçük */
    .mx_EmojiPicker {
        max-width: 100vw !important;
        max-height: 60vh !important;
        bottom: 60px !important;
    }
    
    /* Context menu - basit */
    .mx_ContextualMenu {
        min-width: 200px !important;
        max-width: 90vw !important;
        border-radius: 12px !important;
    }
    
    .mx_ContextualMenu_option {
        min-height: 48px !important;
        padding: 12px 20px !important;
        font-size: 15px !important;
    }
    
    /* Image viewer - tam ekran */
    .mx_ImageView {
        width: 100vw !important;
        height: 100vh !important;
    }
    
    /* Scroll bar - gizli */
    .mx_RoomView_messagePanel::-webkit-scrollbar,
    .mx_LeftPanel_roomListContainer::-webkit-scrollbar {
        width: 0 !important;
        display: none !important;
    }
    
    /* Touch scrolling */
    .mx_RoomView_messagePanel,
    .mx_LeftPanel_roomListContainer {
        -webkit-overflow-scrolling: touch !important;
        scroll-behavior: smooth !important;
    }
    
    /* User menu - basitleştirilmiş */
    .mx_UserMenu {
        padding: 8px !important;
    }
    
    /* Settings - sadece önemli olanlar */
    .mx_SettingsDialog {
        max-width: 100vw !important;
        max-height: 100vh !important;
    }
}

/* Küçük telefonlar için optimizasyon */
@media (max-width: 480px) {
    /* Oda listesi biraz daha kompakt */
    .mx_RoomTile {
        min-height: 64px !important;
        padding: 10px 12px !important;
    }

    /* Avatar biraz daha küçük */
    .mx_BaseAvatar {
        min-width: 44px !important;
        min-height: 44px !important;
    }

    /* Mesaj içeriği biraz küçük */
    .mx_EventTile_content {
        font-size: 14px !important;
        padding: 6px 10px !important;
    }

    /* Header biraz kompakt */
    .mx_RoomHeader {
        min-height: 56px !important;
        padding: 10px 12px !important;
    }
    
    /* Mesaj composer biraz küçük */
    .mx_MessageComposer_wrapper {
        padding: 6px 10px !important;
        min-height: 54px !important;
    }
}

/* Landscape mode - kompakt */
@media (max-width: 768px) and (orientation: landscape) {
    /* Landscape'de daha kompakt */
    .mx_RoomHeader {
        min-height: 48px !important;
        padding: 8px 12px !important;
    }

    .mx_MessageComposer_wrapper {
        min-height: 48px !important;
        padding: 6px 10px !important;
    }
    
    /* Oda listesi daha kompakt */
    .mx_RoomTile {
        min-height: 56px !important;
        padding: 8px 12px !important;
    }

    /* Dialog'lar scroll edilebilir */
    .mx_Dialog {
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
}

/* iOS Safari özel düzeltmeler */
@supports (-webkit-touch-callout: none) {
    /* iOS viewport height düzeltmesi */
    body, html, #matrixchat {
        height: -webkit-fill-available !important;
    }

    /* iOS keyboard layout düzeltmesi */
    .mx_MessageComposer_wrapper {
        position: relative !important;
        z-index: 10 !important;
    }

    /* iOS safe area desteği (notch için) */
    @media (max-width: 768px) {
        .mx_RoomHeader {
            padding-top: max(12px, env(safe-area-inset-top)) !important;
        }

        .mx_LeftPanel_userHeader {
            padding-top: max(12px, env(safe-area-inset-top)) !important;
        }

        .mx_MessageComposer_wrapper {
            padding-bottom: max(8px, env(safe-area-inset-bottom)) !important;
        }
    }
}

/* Dark mode zaten optimize (WhatsApp renkleri kullanılıyor) */
@media (max-width: 768px) and (prefers-color-scheme: dark) {
    /* WhatsApp dark mode renkleri zaten uygulandı */
    /* Ekstra kontrast gerekirse buraya ekleyin */
}
