# Coturn TURN Server Configuration for Railway
# This file will be copied to /etc/turnserver.conf in the container

# Listening port
listening-port=3478

# Relay IP range (Railway will auto-detect)
# Railway provides public IP via environment variable
# We'll use 0.0.0.0 to bind to all interfaces

# Realm
realm=cravex1-production.up.railway.app

# Logging
log-file=stdout
verbose

# Use authentication with shared secret (same as Synapse)
use-auth-secret
static-auth-secret=n0t4ctu4lly4n4ctua1s3cr3t4t4ll

# Long-term credential mechanism
lt-cred-mech

# Fingerprint
fingerprint

# Disable CLI
no-cli

# Disable REST API
no-rest-api

# Allow loopback peers (for testing)
# no-loopback-peers

# Deny peers on localhost
deny-peer-on-loopback

# Ignore loopback network
ignore-loopback-network

# Enable verbose logging
verbose

# User database (optional - we use shared secret)
# userdb=/var/lib/turn/turndb

# Process
# processes=1

# STUN only mode (disabled - we want TURN)
# stun-only

# TURN relay (enabled)
# no-tcp-relay
# no-udp-relay

# Enable relay
# relay-ip=0.0.0.0

# External IP (Railway will auto-detect)
# external-ip=$(RELAY_IP)

# Min port range
min-port=49152

# Max port range
max-port=65535

